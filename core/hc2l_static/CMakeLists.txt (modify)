cmake_minimum_required(VERSION 3.10)
project(hc2l_static)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Include directories
include_directories(include)

# Source files for the static library
set(LIB_SOURCES
    src/road_network.cpp
    src/util.cpp
    src/index.cpp
    src/query.cpp
)

# Create static library
add_library(hc2l_static_lib STATIC ${LIB_SOURCES})

# CLI executables
add_executable(hc2l_cli_build src/cli_build.cpp)
target_link_libraries(hc2l_cli_build hc2l_static_lib)

add_executable(hc2l_query_od src/cli_query_od.cpp)
target_link_libraries(hc2l_query_od hc2l_static_lib)

# Enable testing
enable_testing()
add_subdirectory(tests)